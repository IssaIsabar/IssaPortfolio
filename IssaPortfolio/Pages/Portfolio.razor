@page "/portfolio"
@inject PortfolioService PortfolioService;
@using IssaPortfolio.Library;

@if (items is not null)
{
    <div id="portContainer" class="container">
        <div class="row">
            @foreach (var item in items)
            {
                <div class="card h-100" style="background-image: url(@item.ImageUrl)">
                    <div class="card-content">
                        <h2 class="card-title">@item.Name</h2>
                        <p class="card-text">@item.Description</p>
                        <a href="#" class="button">Read More</a>
                    </div>
                </div>
            }
        </div>
    </div>
}
else
{
    <p>
        no items in list
    </p>
}


@code {
    List<PortfolioItem>? items = new List<PortfolioItem>();

    string? itemName, description, imageUrl, message;
    string defaultEmptyMessage = "Successful";

    protected override async Task OnInitializedAsync()
    {
        items = await PortfolioService.GetAll();
    }

    protected override void OnAfterRender(bool firstRender)
    {
        base.OnAfterRender(firstRender);
    }
}
